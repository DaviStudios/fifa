<!DOCTYPE html>
<html>
<head>
    <title>Submit</title>
</head>
<body>
    <h1>Submit goals</h1>
    
    <button id="sendButton">Send Data to Discord</button>

    <script>
        function sendToDiscord() {
            const userId = localStorage.getItem('User:ID');
            const userGoals = localStorage.getItem('User:Goals');

            if (!userId || !userGoals) {
                alert('User ID or Goals not found in local storage');
                return;
            }

            const webhookURL = 'https://discord.com/api/webhooks/1162714263941550140/etjT49PtW-Kr4GjyLWqlhLiCZY5xwu3EDXKj0eXCi5wd60gKVZlnyfcDYwTZo6eyIMWm';

            const data = {
                content: `User ID: ${userId}\nUser Goals: ${userGoals}`,
            };

            fetch(webhookURL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data),
            })
            .then(response => {
                if (response.ok) {
                    alert('Data sent to Discord successfully');
                } else {
                    alert('Error sending data to Discord');
                }
            })
            .catch(error => {
                alert('Error: ' + error);
            });
        }

        document.getElementById('sendButton').addEventListener('click', sendToDiscord);
    </script>
</body>
</html>
